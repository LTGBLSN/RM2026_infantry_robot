# FYT自瞄通讯协议



## 上位机->下位机

| 字节 | 类型    | 内容         | 含义                   | 备注                   |
| ---- | ------- | ------------ | ---------------------- | ---------------------- |
| 0    | uint8_t | 0xff         | 帧头                   |                        |
| 1    | uint8_t | fite_advance | 开火建议               | 0x01是，0x00不是       |
| 2    | float   | pitch角度    | 瞄准需要达到的目标角度 | 单位：角度  右手坐标系 |
| 3    | 同上    | 同上         | 同上                   | 同上                   |
| 4    | 同上    | 同上         | 同上                   | 同上                   |
| 5    | 同上    | 同上         | 同上                   | 同上                   |
| 6    | float   | yaw角度      | 瞄准需要达到的目标角度 | 单位：角度  右手坐标系 |
| 7    | 同上    | 同上         | 同上                   | 同上                   |
| 8    | 同上    | 同上         | 同上                   | 同上                   |
| 9    | 同上    | 同上         | 同上                   | 同上                   |
| 10   | float   | 距离         | 目标距离，上位机已解算 | 单位：m                |
| 11   | 同上    | 同上         | 同上                   | 同上                   |
| 12   | 同上    | 同上         | 同上                   | 同上                   |
| 13   | 同上    | 同上         | 同上                   | 同上                   |
| 14   | none    | 无用数据     |                        |                        |
| 15   | uint8_t | 0x0d         | 帧尾                   |                        |



## 下位机->上位机

| 字节 | 类型    | 内容      | 含义                           | 备注                   |
| ---- | ------- | --------- | ------------------------------ | ---------------------- |
| 0    | uint8_t | 0xff      | 帧头                           |                        |
| 1    | uint8_t | mod       | 敌方颜色                       | 0x01-BLUE，0x00-RED    |
| 2    | float   | roll角度  | imu滤波后数据， 整车原点坐标系 | 单位：角度  右手坐标系 |
| 3    | 同上    | 同上      | 同上                           | 同上                   |
| 4    | 同上    | 同上      | 同上                           | 同上                   |
| 5    | 同上    | 同上      | 同上                           | 同上                   |
| 6    | float   | pitch角度 | imu滤波后数据， 整车原点坐标系 | 单位：角度  右手坐标系 |
| 7    | 同上    | 同上      | 同上                           | 同上                   |
| 8    | 同上    | 同上      | 同上                           | 同上                   |
| 9    | 同上    | 同上      | 同上                           | 同上                   |
| 10   | float   | yaw角度   | imu滤波后数据， 整车原点坐标系 | 单位：角度  右手坐标系 |
| 11   | 同上    | 同上      | 同上                           | 同上                   |
| 12   | 同上    | 同上      | 同上                           | 同上                   |
| 13   | 同上    | 同上      | 同上                           | 同上                   |
| 14   | none    | 无用数据  |                                |                        |
| 15   | uint8_t | 0x0d      | 帧尾                           |                        |